import {askAI} from '../ai/open-router.js';

export async function analyzeDriverComparison(driver1: string, driver2: string, openRouterKey: string): Promise<string> {
    const prompt = `
    Проведи детальное сравнение двух пилотов Формулы 1: **${driver1}** и **${driver2}**.

    Проанализируй следующие аспекты:
    1.  **Ключевые достижения:** Укажи количество побед, подиумов и чемпионских титулов.
    2.  **Гоночный стиль:** Опиши их стиль пилотирования, сильные и слабые стороны на трассе.
    3.  **Карьерный путь:** Кратко расскажи об их карьерах, командах, в которых они выступали, и значимых моментах.
    4.  **Итог:** Сделай краткое заключение, кто из них и по каким параметрам может считаться более успешным или выдающимся пилотом.

    Ответ должен быть структурированным, информативным и написан на русском языке. Используй Markdown для форматирования (заголовки, списки, жирный текст).
    
    **КРАЙНЕ ВАЖНО: Весь твой ответ должен быть коротким и умещаться в одно сообщение Telegram (не более 3800 символов). Количество символов в конце не пиши**
    
    Учитывайте, что ваши ответы будут отображаться в Telegram, поэтому используйте форматирование, совместимое с этой платформой (заголовки из Markdown не поддерживаются)
    `;

    return await askAI(prompt, openRouterKey);
}